<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SleepSync - Sleep Cycle Calculator</title>
    <meta name="description" content="Optimize your sleep with natural 90-minute sleep cycles.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’¤</text></svg>">

    <!-- Preconnect to Google Fonts for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-54N58CLPS2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-54N58CLPS2');
    </script>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link href="style.css" rel="stylesheet">
    <!-- Ubuntu Font -->
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&amp;display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="main-container">
                    <div class="header">
                        <h1>ðŸ˜´ SleepSync</h1>
                        <p class="mb-0">Optimize your sleep with 90-minute cycles</p>
                    </div>

                    <div class="p-4">
                        <!-- Tabs -->
                        <ul class="nav nav-pills nav-justified bg-light rounded-3 p-1 mb-4" id="sleepTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="now-tab" data-bs-toggle="pill" data-bs-target="#now" type="button" role="tab" aria-controls="now" aria-selected="true">
                                    Sleep Now
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="wakeup-tab" data-bs-toggle="pill" data-bs-target="#wakeup" type="button" role="tab" aria-controls="wakeup" aria-selected="false">
                                    Wake Up At
                                </button>
                            </li>
                        </ul>

                        <!-- Tab Content -->
                        <div class="tab-content" id="sleepTabsContent">
                            <div class="tab-pane fade show active" id="now" role="tabpanel" aria-labelledby="now-tab">
                                <div class="mb-3">
                                    <label for="currentTime" class="form-label fw-bold">Current Time</label>
                                    <input type="time" class="form-control form-control-lg" id="currentTime" required>
                                </div>
                                <button class="btn btn-lg btn-primary calc-btn w-100" id="calculateNowBtn">
                                    Calculate Wake Up Times
                                </button>
                            </div>
                            <div class="tab-pane fade" id="wakeup" role="tabpanel" aria-labelledby="wakeup-tab">
                                <div class="mb-3">
                                    <label for="wakeupTime" class="form-label fw-bold">Desired Wake-up Time</label>
                                    <input type="time" class="form-control form-control-lg" id="wakeupTime" required>
                                </div>
                                <button class="btn btn-lg btn-primary calc-btn w-100" id="calculateWakeupBtn">
                                    Calculate Bedtimes
                                </button>
                            </div>
                        </div>

                        <!-- Results -->
                        <div id="results" class="mt-4" style="display: none;">
                            <div class="sleep-info">
                                <h5>ðŸ•’ Cycle Information</h5>
                                <p class="mb-0">It takes about 14 minutes to fall asleep. Each cycle is 90 minutes.</p>
                            </div>
                            <div id="cyclesContainer"></div>
                            <div id="recommendation" class="recommendation" style="display: none;">
                                <h5>âœ¨ Recommendation</h5>
                                <p id="recText" class="mb-0"></p>
                            </div>
                             <button class="btn btn-secondary w-100 mt-3" id="shareBtn" style="display: none;">Share Results</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap Modal -->
    <div class="modal fade" id="alertModal" tabindex="-1" aria-labelledby="modalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitle"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body"><p id="modalMsg"></p></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap & App JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous" defer></script>
    <script src="app.js" defer></script>
</body>
</html>
